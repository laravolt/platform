$(function(){var e=$('[data-role="sidebar"]');if(e.length>0){new SimpleBar(e[0]);var a=$('[data-role="sidebar-visibility-switcher"]');a.length>0&&a.on("click",function(){e.parent().toggleClass("show")}),$(document).click(function(e){$("nav.sidebar").hasClass("show")&&($(e.target).closest("nav.sidebar").length||$(e.target).closest('[data-role="sidebar-visibility-switcher"]').length||$("nav.sidebar").removeClass("show"))})}$('[data-role="sidebar-accordion"]').accordion({selector:{trigger:".title:not(.empty)"}})});class Laravolt{static init(e){e.find("table.unstackable.responsive").basictable(),e.find(".ui.checkbox").checkbox(),e.find(".ui.dropdown:not(.tag)").dropdown({forceSelection:!1,selectOnKeydown:!1,fullTextSearch:"exact"}),e.find(".ui.dropdown.tag").each(function(){var e=$(this).data("value").toString().split(",");1==e.length&&""==e[0]&&(e=!1),$(this).dropdown({forceSelection:!1,allowAdditions:!0,keys:{delimiter:13}}).dropdown("set selected",e)}),$.fn.destroyDropdown=function(){return $(this).each(function(){$(this).parent().dropdown("destroy").replaceWith($(this).addClass($(this).data("class")))})};let a=[],t=[];for(var n of(e.find("select[data-depend-on]").each(function(e,n){let o=$(n),r=o.data("depend-on"),i=$("[name="+r+"]");"SELECT"==i.prop("tagName")?(void 0===a[r]&&(a[r]=[]),a[r].push(o)):"INPUT"==i.prop("tagName")&&(void 0===t[r]&&(t[r]=[]),t[r].push(o))}),Object.keys(a))){let e=$("[name="+n+"]"),t=a[n];e.destroyDropdown(),e.dropdown({forceSelection:!1,selectOnKeydown:!1,fullTextSearch:"exact",onChange:function(e,a,n){jQuery.each(t,function(a,t){if(e){let a=t.data("api"),n=t.data("payload");t.api({url:a,urlData:{parent:e,payload:n},on:"now",beforeSend:function(e){return t.dropdown("clear"),t.parent().addClass("loading"),e},onSuccess:function(e,a,n){let o=e.results;t.dropdown("change values",o)},onComplete:function(e,a,n){t.parent().removeClass("loading")}})}else t.dropdown("clear"),t.dropdown("setup menu",{values:[]})})}})}for(var n of Object.keys(t)){let a=e.find("[name="+n+"]"),o=t[n];a.on("change",function(e){let a=$(e.currentTarget).val();jQuery.each(o,function(e,t){if(a){let e=t.data("api"),n=t.data("payload");t.api({url:e,urlData:{parent:a,payload:n},on:"now",beforeSend:function(e){return t.dropdown("clear"),t.parent().addClass("loading"),e},onSuccess:function(e,a,n){let o=e.results;t.dropdown("change values",o),1==o.length&&t.dropdown("set selected",o[0].value)},onComplete:function(e,a,n){t.parent().removeClass("loading")}})}else t.dropdown("clear"),t.dropdown("setup menu",{values:[]})})}),a.val()&&a.trigger("change")}e.find('.checkbox[data-toggle="checkall"]').each(function(){var e=$(this),a=$(document).find(e.data("selector"));$(document).find(e.data("storage"));e.checkbox({onChecked:function(){a.checkbox("check")},onUnchecked:function(){a.checkbox("uncheck")}}),a.checkbox({fireOnInit:!0,onChange:function(){var t=e,n=!0,o=!0,r=[];a.each(function(){$(this).checkbox("is checked")?(o=!1,r.push($(this).children().first().val())):n=!1}),t.val(JSON.stringify(r)).trigger("change"),n?t.checkbox("set checked"):o?t.checkbox("set unchecked"):t.checkbox("set indeterminate")}})}),e.find(".ui.input.calendar").each(function(e,a){var t=(a=$(a)).data("calendar-type");t||(t="date");var n=a.data("calendar-format");n||(n="YYYY-MM-DD"),a.calendar({type:t,ampm:!1,formatter:{date:function(e,a){if(!e)return"";var t=e.getHours(),o=e.getMinutes(),r=e.getSeconds(),i=e.getDate(),l=("0"+e.getDate()).slice(-2),d=l,c=e.getMonth()+1,s=("0"+(e.getMonth()+1)).slice(-2),u=s,p=a.text.months[e.getMonth()],f=a.text.monthsShort[e.getMonth()],h=e.getFullYear().toString().substr(2,2),g=e.getFullYear(),m=e.getFullYear();return n.replace("h",t).replace("i",o).replace("s",r).replace("j",i).replace("d",d).replace("n",c).replace("m",u).replace("M",f).replace("Y",g).replace("DD",l).replace("MMMM",p).replace("MM",s).replace("YYYY",m).replace("YY",h)}}})}),e.find("input[type=file].uploader").each(function(e,a){var t=$(a).data("extensions");t=t?t.split(","):null;var n=null;$(a).data("media-url")&&(n={url:$(a).data("media-url"),data:{_token:$(a).data("token"),_key:$(a).attr("name"),_action:"upload"},type:"POST",enctype:"multipart/form-data",start:!0,synchron:!0,chunk:!1,onSuccess:function(e,a,t,n,o,r,i,l){a.local=e.files[0].file,a.html.find(".fileuploader-action-remove").addClass("fileuploader-action-success"),setTimeout(function(){a.html.find(".progress-bar2").fadeOut(400)},400)},onError:function(e,a,t,n,o,r,i,l){var d=e.html.find(".progress-bar2");d.length>0&&(d.find("span").html("0%"),d.find(".fileuploader-progressbar .bar").width("0%"),e.html.find(".progress-bar2").fadeOut(400)),"cancelled"!=e.upload.status&&0==e.html.find(".fileuploader-action-retry").length&&e.html.find(".column-actions").prepend('<a class="fileuploader-action fileuploader-action-retry" title="Retry"><i></i></a>')},onProgress:function(e,a,t,n,o,r){var i=a.html.find(".progress-bar2");i.length>0&&(i.show(),i.find("span").html(e.percentage+"%"),i.find(".fileuploader-progressbar .bar").width(e.percentage+"%"))},onComplete:function(e,a,t,n,o,r){}}),$(a).fileuploader({theme:"simple",limit:$(a).data("limit"),extensions:t,addMore:!0,upload:n,onRemove:function(e){return $(a).data("media-url")&&$.post($(a).data("media-url"),{_token:$(a).data("token"),_action:"delete",file:e.file,id:e.data.id}),!0},changeInput:'<div class="fileuploader-input"><div class="fileuploader-input-inner"><div><span>${captions.browse}</span></div></div></div>',captions:{browse:"Browse or drop files here"},thumbnails:{removeConfirmation:!1}})}),"function"==typeof AutoNumeric&&AutoNumeric.multiple('input[data-role="rupiah"]',{currencySymbol:"",decimalCharacter:",",digitGroupSeparator:".",decimalPlaces:0,unformatOnSubmit:!0}),jQuery().redactor&&e.find('[data-role="redactor"]').each(function(){$(this).redactor({plugins:["fontcolor","alignment","video","fullscreen","table"],toolbarFixedTopOffset:50,minHeight:"300px",imageUpload:$(this).data("upload-url"),imageResizable:!0,imagePosition:!0,imageData:{_token:$(this).data("token")},fontcolors:["#000000","#111111","#222222","#333333","#666666","#999999","#BBBBBB","#CCCCCC","#DDDDDD","#EEEEEE","#FFFFFF","#f44336","#f44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFC107","#FF9800","#FF5722","#FF0000","#b026fe","#0000ff","#00FF00","#fff000","#ff6000"]})}),"object"==typeof google&&"object"==typeof google.maps&&e.find("[data-form-coordinate]").each(function(){var e,a,t=$(this);[a,e]=t.val().split(","),a=a||-7.451808,e=e||111.035929;var n=$("<div>").css("width","100%").css("height",300).css("border-radius",4).css("margin-top","5px");n.insertAfter($(this));var o=new google.maps.LatLng(a,e),r={zoom:17,center:o,mapTypeId:google.maps.MapTypeId.ROADMAP},i=$(this).is("[disabled]");i&&$.extend(r,{gestureHandling:"none",zoomControl:!1});var l=new google.maps.Map(n[0],r),d=new google.maps.Marker({position:o,map:l,draggable:!i});google.maps.event.addListener(d,"drag",function(){t.val(d.position.lat()+","+d.position.lng())})})}}$(function(){Laravolt.init($("body")),$("[data-page-loader]").removeClass("active")}),$(function(){key("âŒ˜+k, ctrl+k",function(){$('[data-role="quick-switcher-modal"]').modal({onHide:function(){$('[data-role="quick-menu-searchbox"]').val("").trigger("keyup")}}).modal("show")}),$('[data-role="quick-menu-searchbox"]').on("keyup",function(e){var a=$(e.currentTarget).val();if($('[data-role="quick-menu-searchbox"]').val(a),$('[data-role="quick-menu"] .items').html(""),""==a)$('[data-role="original-menu"]').show();else{$('[data-role="original-menu"]').hide();var t=[];$('[data-role="original-menu"] a').each(function(e,a){t.push({text:$(a).html(),url:$(a).attr("href")})});var n=new Fuse(t,{tokenize:!0,threshold:.5,keys:["text"]}).search(a),o="";for(var r in n){var i=n[r];o+="<a class='title' href='"+i.url+"'>"+i.text+"</a>"}$('[data-role="quick-menu"] .items').append(o)}});var e=$('[data-role="quick-switcher-dropdown"]');$('[data-role="original-menu"] a').each(function(a,t){var n=$(t).data("parent"),o=$(t).html();n&&(o+='<div class="ui mini label right floated">'+n+"</div>");var r=$("<option>").attr("value",$(t).attr("href")).html(o);e.append(r)}),e.dropdown({fullTextSearch:!0,forceSelection:!1,selectOnKeydown:!1,match:"text",action:function(e,a){window.location.href=a}})});
